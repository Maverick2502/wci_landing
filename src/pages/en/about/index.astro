---
import obi_wan from "@assets/images/obi_wan.webp";
import person from "@assets/images/person_mockup.png";
import person_one from "@assets/images/person_mockup_1.png";
import team from "@assets/images/team.webp";
import windu from "@assets/images/windu.webp";
import Layout from "@layouts/Layout.astro";
import classes from "@styles/pages/about.module.scss";
import ContactUs from "@widgets/contactUs/ContactUs";
import Footer from "@widgets/footer/Footer.astro";
import Header from "@widgets/header/Header.astro";
import { Image } from "astro:assets";
import { changeLanguage } from "i18next";

changeLanguage("en");
---

<Layout title="About us | WCI">
  <Header />

  <main>
    <section class={classes["about"]}>
      <div class={classes["about__container"]}>
        <h1 class={classes["about__title"]}>О нас</h1>

        <div class={classes["about__content"]}>
          <p>
            Мы - ведущая компания в области IT-аутсорсинга, предоставляющая широкий спектр услуг по разработке
            программного обеспечения, информационной безопасности, технической поддержке и многому другому.
          </p>
          <p>
            Наша миссия - помогать бизнесам улучшать свою эффективность, расширять границы возможностей и достигать
            новых высот в цифровой эпохе.
          </p>
          <p>
            С 2024 года мы успешно работаем на рынке IT-аутсорсинга, помогая нашим клиентам воплощать в жизнь самые
            амбициозные проекты. За это время мы завершили более 10+ проектов, утвердившись как надежный партнер с
            безупречной репутацией.
          </p>
        </div>
      </div>

      <div class={classes["banner"]}>
        <div class={classes["banner__container"]}>
          <Image class={classes["banner__img"]} src={team} alt="Team" />
        </div>
      </div>

      <div class={classes["team"]}>
        <div class={classes["team__container"]}>
          <div class={classes["flex"]}>
            <h1 class={classes["team__title"]}>Наша команда</h1>
            <nav class={classes["carousel-btns"]} aria-label="Carousel Navigation">
              <button id="prev" class={classes["prev"]} aria-label="Previous" role="button">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                  <path fill="none" d="M0 0h24v24H0V0z"></path>
                  <path d="M15.61 7.41L14.2 6l-6 6 6 6 1.41-1.41L11.03 12l4.58-4.59z"></path>
                </svg>
              </button>
              <button id="next" class={classes["next"]} aria-label="Next" role="button">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                  <path fill="none" d="M0 0h24v24H0V0z"></path>
                  <path d="M10.02 6L8.61 7.41 13.19 12l-4.58 4.59L10.02 18l6-6-6-6z"></path>
                </svg>
              </button>
            </nav>
          </div>
        </div>
      </div>
    </section>

    <div class={classes["wrapper"]}>
      <div id="carousel" class={classes["carousel"]} aria-label="Team Members">
        <ul class={classes["carousel__list"]}>
          <li class={classes["carousel__list__item"]}>
            <figure>
              <Image
                src={obi_wan}
                alt="Obi-Wan Kenobi, Jedi Master"
                width={500}
                height={370}
                loading="lazy"
                decoding="async"
              />
              <figcaption class={classes["carousel__list__item__info"]}>
                <span>Obi-Wan Kenobi</span>
                <span>Jedi Master</span>
              </figcaption>
            </figure>
          </li>

          <li class={classes["carousel__list__item"]}>
            <figure>
              <Image
                src={windu}
                alt="Mace Windu, Jedi Master"
                width={500}
                height={370}
                loading="lazy"
                decoding="async"
              />
              <figcaption class={classes["carousel__list__item__info"]}>
                <span>Mace Windu</span>
                <span>Jedi Master</span>
              </figcaption>
            </figure>
          </li>

          <li class={classes["carousel__list__item"]}>
            <figure>
              <Image
                src={person_one}
                alt="Yoda, Jedi Master"
                width={500}
                height={370}
                loading="lazy"
                decoding="async"
              />
              <figcaption class={classes["carousel__list__item__info"]}>
                <span>Yoda</span>
                <span>Jedi Master</span>
              </figcaption>
            </figure>
          </li>

          <li class={classes["carousel__list__item"]}>
            <figure>
              <Image
                src={person}
                alt="Plo Koon, Jedi Master"
                width={500}
                height={370}
                loading="lazy"
                decoding="async"
              />
              <figcaption class={classes["carousel__list__item__info"]}>
                <span>Plo Koon</span>
                <span>Jedi Master</span>
              </figcaption>
            </figure>
          </li>

          <li class={classes["carousel__list__item"]}>
            <figure>
              <Image
                src={person}
                alt="Anakin Skywalker, Jedi Master"
                width={500}
                height={370}
                loading="lazy"
                decoding="async"
              />
              <figcaption class={classes["carousel__list__item__info"]}>
                <span>Anakin Skywalker</span>
                <span>Padawan</span>
              </figcaption>
            </figure>
          </li>
        </ul>
      </div>
    </div>
    <ContactUs client:load />
  </main>
  <Footer />
</Layout>

<script>
  document.addEventListener("astro:page-load", () => {
    const carousel = document.getElementById("carousel")!;
    const next = document.getElementById("next")!;
    const prev = document.getElementById("prev")!;
    const GAP = 16;
    let width = carousel.offsetWidth;

    function scrollCarousel(offset: number) {
      carousel.scrollBy(offset, 0);
    }

    next.addEventListener("click", () => scrollCarousel(width + GAP));
    prev.addEventListener("click", () => scrollCarousel(-(width + GAP)));

    window?.addEventListener("resize", () => {
      width = carousel.offsetWidth;
    });
  });
</script>
